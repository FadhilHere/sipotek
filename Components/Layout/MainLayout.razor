@inherits LayoutComponentBase

<MudThemeProvider Theme="customTheme" />
<MudDialogProvider />
<MudPopoverProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="DrawerToggle" />

        <div class="d-flex align-center">
            <MudIcon Icon="@Icons.Material.Filled.LocalPharmacy"
                     Color="Color.Inherit"
                     Size="Size.Medium"
                     Class="mr-2" />
            <MudText Typo="Typo.h6">SIPOTEK</MudText>
        </div>

        <MudSpacer />

        <div class="d-flex align-center">
            <MudText Typo="Typo.body2" Class="mr-4">
                @DateTime.Now.ToString("dddd, dd MMMM yyyy", new System.Globalization.CultureInfo("id-ID"))
            </MudText>

            <MudIconButton Icon="@Icons.Material.Filled.Notifications"
                           Color="Color.Inherit" />

            <MudMenu Icon="@Icons.Material.Filled.AccountCircle"
                     Color="Color.Inherit"
                     AnchorOrigin="Origin.BottomLeft"
                     TransformOrigin="Origin.TopLeft">
                <MudMenuItem Icon="@Icons.Material.Filled.Person">
                    <MudText>Apoteker</MudText>
                </MudMenuItem>
                <MudMenuItem Icon="@Icons.Material.Filled.Settings">
                    <MudText>Pengaturan</MudText>
                </MudMenuItem>
                <MudDivider />
                <MudMenuItem Icon="@Icons.Material.Filled.Logout">
                    <MudText>Logout</MudText>
                </MudMenuItem>
            </MudMenu>
        </div>
    </MudAppBar>

    <MudDrawer @bind-Open="@_drawerOpen"
               Elevation="1"
               Variant="@DrawerVariant.Mini"
               OpenMiniOnHover="true">
        <NavMenu />
    </MudDrawer>

    <MudMainContent Class="pt-16">
        <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;

    MudTheme customTheme = new()
        {
            PaletteLight = new PaletteLight()
            {
                Primary = "#1976d2",
                Secondary = "#424242",
                AppbarBackground = "#1976d2",
                Background = "#f5f5f5",
                DrawerBackground = "#ffffff",
                DrawerText = "rgba(0,0,0, 0.7)",
                Success = "#4caf50"
            },
            PaletteDark = new PaletteDark()
            {
                Primary = "#90caf9",
                Secondary = "#f48fb1",
                AppbarBackground = "#1565c0",
                Background = "#121212",
                DrawerBackground = "#1e1e1e",
                DrawerText = "rgba(255,255,255, 0.8)"
            },
            LayoutProperties = new LayoutProperties()
            {
                DrawerWidthLeft = "260px",
                DrawerWidthRight = "300px"
            }
        };

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}